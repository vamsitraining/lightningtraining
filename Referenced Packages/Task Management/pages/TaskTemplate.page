<apex:page showHeader="true" sidebar="false" controller="taskmanage1.TaskTemplateController" tabStyle="Task_Template__tab">
    <link rel="stylesheet" type="text/css" href="{!URLFOR($Resource.TaskResource, '/Task/TaskTemplate.css')}" />
    <script type="text/javascript" src="{!URLFOR($Resource.TaskResource, '/Task/jquery-1.4.2.min.js')}"></script>
    <script type="text/javascript" src="{!URLFOR($Resource.TaskResource, '/Task/jquery.validate.js')}"></script>
    <script type="text/javascript" src="{!URLFOR($Resource.TaskResource, '/Task/TaskTemplate.js')}"></script>
    <script src="/jslibrary/1329331264000/sfdc/Activity.js" type="text/javascript"></script>
    <script>
        jQuery(document).ready(function(){
            jQuery('.taskType option[index=0]').remove();
            jQuery('.EditTask').validate();
            jQuery('.Affinity').validate();
            initPeriod();
        });
        
        function initPeriod()
        {
            changePeriod('Daily');
        }
        function loadJs(){
            var file = '/jslibrary/1329331264000/sfdc/Activity.js';
            var head = $('head').remove('#loadScript');
            $("<scri"+"pt>"+"</scr"+"ipt>").attr({src:file,type:'text/javascript',id:'load'}).appendTo(head);
        }
    </script>
    <apex:form id="theForm" styleClass="Affinity">
        <apex:actionStatus id="loading" layout="block">         
            <apex:facet name="start">
                <div class="overlayBackground displayBG">
                    <img src="/img/loading32.gif" id="loading" class="loadingImg"/>
                </div>
            </apex:facet>
        </apex:actionStatus>
        <apex:actionFunction name="taskType" status="loading" action="{!period}" reRender="masterCalendars" oncomplete="initPeriod();loadJs();">
            <apex:param name="firstParam" assignTo="{!MasterCalendar.taskmanage1__Assignment_Type__c}" value=""/>
        </apex:actionFunction>
        <apex:sectionHeader subtitle="Calendar Tasks" title="Tasks">
            <apex:outputText value="View:" style="font-weight:bold;padding-right:.69em;"/>
            <apex:inputField value="{!MasterCalendar.taskmanage1__Assignment_Type__c}" onchange="taskType(this.value);" styleClass="taskType"/>
        </apex:sectionHeader>
        <div style="margin:10px;"/>
        <apex:outputpanel id="masterCalendars">
            <!--<apex:pageBlock title="{!MasterCalendar.taskmanage1__Assignment_Type__c} Tasks" id="masterTask">-->
                <table border="0" cellpadding="0" cellspacing="0" width="100%">
                    <tr>
                        <td width="55%" align="right" style="vertical-align:top;">
                        <apex:pageBlock title="{!MasterCalendar.taskmanage1__Assignment_Type__c} Task Edit" id="masterTask">
                            <apex:pageBlockSection columns="1">
                                <apex:pageBlockSectionItem >
                                    Task Title
                                    <apex:outputPanel >
                                        <div class="requiredInput">
                                            <div class="requiredBlock"></div>
                                            <apex:inputField value="{!MasterCalendar.Name}" style="width:150px;"/>
                                        </div>
                                    </apex:outputPanel>
                                </apex:pageBlockSectionItem>
                                <apex:inputField value="{!MasterCalendar.taskmanage1__TaskBody__c}" style="width:275px;height:80px;"/>
                                <!--<apex:inputField value="{!MasterCalendar.taskmanage1__Period__c}" style="width:150px;" styleClass="period" onchange="changePeriod(this.value);"/>-->
                                <apex:pageBlockSectionItem >
                                    <apex:outputText value="Period"/>
                                    <apex:selectList value="{!MasterCalendar.taskmanage1__Period__c}" size="1" style="width:150px;" styleClass="period" onchange="changePeriod(this.value);">
                                        <apex:selectOption itemLabel="Daily" itemValue="Daily"/>
                                        <apex:selectOption itemLabel="Weekly" itemValue="Weekly"/>
                                        <apex:selectOption itemLabel="Monthly" itemValue="Monthly"/>
                                        <apex:selectOption itemLabel="Quarterly" itemValue="Quarterly"/>
                                        <apex:selectOption itemLabel="Yearly" itemValue="Yearly"/>
                                    </apex:selectList>
                                </apex:pageBlockSectionItem>
                                <apex:pageBlockSectionItem labelStyle="display:none" dataStyle="display:none"  labelStyleClass="periodDaily" dataStyleClass="periodDaily">
                                    <apex:outputText value="" />
                                    <apex:outputPanel >
                                        <table>
                                            <tr>
                                                <td>
                                                    <apex:selectRadio value="{!RecurringDaily.dailyName}" layout="pageDirection" styleClass="changeFouce">
                                                        <apex:selectOption itemLabel="Every" itemValue="weekday" />
                                                        <apex:selectOption itemLabel="Every" itemValue="day"/>
                                                    </apex:selectRadio>
                                                </td>
                                                <td style="vertical-align:middle;padding-top:4px;text-align:left;">
                                                    <table style="margin-left:-4px;">
                                                        <tbody>
                                                            <tr>
                                                                <td><label>weekday</label></td>
                                                            </tr>
                                                            <tr>
                                                                <td><label><apex:inputText onchange="dailyEveryDay();" value="{!RecurringDaily.EveryDays}" style="width:45px;" onkeyup="this.value=this.value.replace(/\D/g,'');dailyEveryDay();"/> day(s)</label></td>
                                                            </tr>
                                                            <tr>
                                                                <td><apex:outputText value="Error: {!RecurringDaily.ErrorMessage}" style="color:red;" rendered="{!NOT(ISNULL(RecurringDaily.ErrorMessage))}"/></td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table>
                                    </apex:outputPanel>
                                </apex:pageBlockSectionItem>
                                <apex:pageBlockSectionItem labelStyle="display:none" dataStyle="display:none"  labelStyleClass="periodWeekly" dataStyleClass="periodWeekly">
                                    <apex:outputText value="" />
                                    <apex:outputPanel >
                                        Recurs every&nbsp;<apex:inputText value="{!RecurringWeekly.every}" style="width:45px;" onkeyup="this.value=this.value.replace(/\D/g,'')"/>&nbsp;week(s) on <br />
                                        <apex:selectCheckboxes value="{!RecurringWeekly.Weeks}">
                                            <apex:selectOptions value="{!RecurringWeekly.Weekdays}"></apex:selectOptions>
                                        </apex:selectCheckboxes>
                                        <apex:outputText value="Error: {!RecurringWeekly.ErrorMessage}" style="color:red;" rendered="{!NOT(ISNULL(RecurringWeekly.ErrorMessage))}"/>
                                    </apex:outputPanel>
                                </apex:pageBlockSectionItem>
                                <apex:pageBlockSectionItem labelStyle="display:none" dataStyle="display:none"  labelStyleClass="periodMonthly" dataStyleClass="periodMonthly">
                                    <apex:outputText value="" />
                                    <apex:outputPanel >
                                        <table>
                                            <tr>
                                                <td style="padding-top:2px;padding-top:6px\9;">
                                                    <apex:selectRadio value="{!RecurringMonthly.name}" layout="pageDirection" styleClass="changeMonthlyFouce" style="margin-right:-2px;padding-top:2px\9;" >
                                                        <apex:selectOption itemValue="firstRadio"/>
                                                        <apex:selectOption itemValue="secondRadio"/>
                                                    </apex:selectRadio>
                                                </td>
                                                <td style="vertical-align:middle;text-align:left;">
                                                    <table>
                                                        <tbody>
                                                            <tr>
                                                                <td>
                                                                    <label>
                                                                       On&nbsp;day&nbsp;<apex:selectList value="{!RecurringMonthly.OndayFirst}" size="1" onchange="monthlyOnChange('first');">
                                                                                <apex:selectOptions value="{!RecurringMonthly.OndayList}" />
                                                                            </apex:selectList>
                                                                    </label>
                                                                    <label>of every&nbsp;&nbsp;<apex:inputText value="{!RecurringMonthly.OndaySecond}" style="width:45px;" onkeyup="this.value=this.value.replace(/\D/g,'');monthlyOnChange('first');" onchange="monthlyOnChange('first');"/> month(s)</label>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td>
                                                                    <label>
                                                                       On&nbsp;the&nbsp;
                                                                       <apex:selectList value="{!RecurringMonthly.OntheFirst}" size="1" onchange="monthlyOnChange('second');">
                                                                            <apex:selectOptions value="{!RecurringMonthly.OntheFirstList}" />
                                                                        </apex:selectList>
                                                                    </label>
                                                                    <label>
                                                                        <apex:selectList value="{!RecurringMonthly.OntheSecond}" size="1" onchange="monthlyOnChange('second');">
                                                                            <apex:selectOptions value="{!RecurringMonthly.OntheSecondList}" />
                                                                        </apex:selectList>
                                                                    </label>
                                                                    <label>of every&nbsp;&nbsp;<apex:inputText value="{!RecurringMonthly.OntheThree}" style="width:45px;" onkeyup="this.value=this.value.replace(/\D/g,'');monthlyOnChange('second');" onchange="monthlyOnChange('second');"/> month(s)</label>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td><apex:outputText value="Error: {!RecurringMonthly.ErrorMessage}" style="color:red;" rendered="{!NOT(ISNULL(RecurringMonthly.ErrorMessage))}"/></td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table>
                                    </apex:outputPanel>
                                </apex:pageBlockSectionItem>
                                <apex:pageBlockSectionItem labelStyle="display:none" dataStyle="display:none"  labelStyleClass="periodQuarterly" dataStyleClass="periodQuarterly">
                                    <apex:outputText value="" />
                                    <apex:outputPanel >
                                        <label>
                                            On day&nbsp;
                                            <apex:selectList value="{!RecurringQuarterly.OndayFirst}" size="1" onchange="quarterlyOnChange('first');">
                                                <apex:selectOptions value="{!RecurringQuarterly.OndayFirstList}" />
                                            </apex:selectList>&nbsp;of&nbsp;
                                        </label>
                                        <label>
                                            <apex:selectList value="{!RecurringQuarterly.OndaySecond}" size="1" onchange="quarterlyOnChange('first');">
                                                <apex:selectOptions value="{!RecurringQuarterly.OndaySecondList}" />
                                            </apex:selectList>&nbsp;month
                                        </label>
                                    </apex:outputPanel>
                                </apex:pageBlockSectionItem>
                                <apex:pageBlockSectionItem labelStyle="display:none" dataStyle="display:none"  labelStyleClass="periodYearly" dataStyleClass="periodYearly">
                                    <apex:outputText value="" />
                                    <apex:outputPanel >
                                        <table>
                                            <tr>
                                                <td style="padding-top:2px;padding-top:6px\9;">
                                                    <apex:selectRadio value="{!RecurringYearly.name}" layout="pageDirection" styleClass="changeYearlyFouce" style="margin-right:-2px;padding-top:2px\9;" >
                                                        <apex:selectOption itemValue="firstRadio" />
                                                        <apex:selectOption itemValue="secondRadio"/>
                                                    </apex:selectRadio>
                                                </td>
                                                <td style="vertical-align:middle;text-align:left;">
                                                    <table>
                                                        <tbody>
                                                            <tr>
                                                                <td>
                                                                    <label>
                                                                        On every&nbsp;
                                                                        <apex:selectList value="{!RecurringYearly.OneveryFirst}" size="1" onchange="yearlyOnChange('first');">
                                                                            <apex:selectOptions value="{!RecurringYearly.OneveryFirstList}" />
                                                                        </apex:selectList>
                                                                    </label>
                                                                    <label>
                                                                        <apex:selectList value="{!RecurringYearly.OneverySecond}" size="1" onchange="yearlyOnChange('first');">
                                                                            <apex:selectOptions value="{!RecurringYearly.OneverySecondList}" />
                                                                        </apex:selectList>
                                                                    </label>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td>
                                                                    <label>
                                                                        On the&nbsp;
                                                                        <apex:selectList value="{!RecurringYearly.OntheFirst}" size="1" onchange="yearlyOnChange('second');">
                                                                            <apex:selectOptions value="{!RecurringYearly.OntheFirstList}" />
                                                                        </apex:selectList>
                                                                    </label>
                                                                    <label>
                                                                        <apex:selectList value="{!RecurringYearly.OntheSecond}" size="1" onchange="yearlyOnChange('second');">
                                                                            <apex:selectOptions value="{!RecurringYearly.OntheSecondList}" />
                                                                        </apex:selectList>
                                                                    </label>
                                                                    <label>of&nbsp;
                                                                        <apex:selectList value="{!RecurringYearly.OntheThree}" size="1" onchange="yearlyOnChange('second');">
                                                                            <apex:selectOptions value="{!RecurringYearly.OntheThreeList}" />
                                                                        </apex:selectList>
                                                                    </label>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td><apex:outputText value="Error: {!RecurringMonthly.ErrorMessage}" style="color:red;" rendered="{!NOT(ISNULL(RecurringMonthly.ErrorMessage))}"/></td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table>
                                    </apex:outputPanel>
                                </apex:pageBlockSectionItem>
                                <!--
                                <apex:pageBlockSectionItem labelStyle="display:none" dataStyle="display:none"  labelStyleClass="recurrenceDate" dataStyleClass="recurrenceDate">
                                    Start Date
                                    <apex:outputPanel >
                                        <div class="requiredInput">
                                            <div class="requiredBlock"></div>
                                            <apex:inputField value="{!MasterCalendar.RecurrenceStartDate__c}" styleClass="startDate"/>
                                        </div>
                                    </apex:outputPanel>
                                </apex:pageBlockSectionItem>
                                <apex:pageBlockSectionItem labelStyle="display:none" dataStyle="display:none"  labelStyleClass="recurrenceDate" dataStyleClass="recurrenceDate">
                                    End Date
                                    <apex:outputPanel >
                                        <div class="requiredInput">
                                            <div class="requiredBlock"></div>
                                            <apex:inputField value="{!MasterCalendar.RecurrenceEndDate__c}" styleClass="endDate"/>
                                        </div>
                                    </apex:outputPanel>
                                </apex:pageBlockSectionItem>
                                -->
                                <apex:pageBlockSectionItem >
                                    <apex:outputText value="Priority"/>
                                    <apex:selectList size="1" value="{!MasterCalendar.taskmanage1__Priority__c}" style="width:150px;" styleClass="Priority">
                                        <apex:selectOption itemLabel="High" itemValue="High"/>
                                        <apex:selectOption itemLabel="Normal" itemValue="Normal"/>
                                        <apex:selectOption itemLabel="Low" itemValue="Low"/>
                                    </apex:selectList>
                                </apex:pageBlockSectionItem>
                                <apex:pageBlockSectionItem >
                                    Reminder
                                    <apex:outputPanel >
                                        <apex:outputPanel style="display:none" styleClass="ReminderRecurring">
                                            <apex:inputCheckbox value="{!MasterCalendar.taskmanage1__IsReminderSet__c}" onchange="reminderRecurringChange(this)"/>
                                            <apex:selectList size="1" value="{!ReminderTask.RecurringFirst}" styleClass="reminderRecurringFirst">
                                                <apex:selectOptions value="{!ReminderTask.ReminderRecurringFirstList}" />
                                            </apex:selectList>&nbsp;at&nbsp;
                                            <apex:selectList size="1" value="{!ReminderTask.RecurringSecond}" styleClass="reminderRecurringFirst">
                                                <apex:selectOptions value="{!ReminderTask.ReminderRecurringSecondList}" />
                                            </apex:selectList>&nbsp;for each occurrence
                                        </apex:outputPanel>
                                        <apex:outputPanel styleClass="Reminder">
                                            <apex:inputCheckbox value="{!MasterCalendar.taskmanage1__IsReminderSet__c}" onchange="reminderChange(this);"/>
                                            <apex:inputField value="{!MasterCalendar.taskmanage1__Reminder__c}" style="width:132px;" styleClass="reminderFirst"/>
                                        </apex:outputPanel>
                                    </apex:outputPanel>
                                </apex:pageBlockSectionItem>
                                <apex:pageBlockSectionItem dataStyle="padding-left:120px;">
                                    <apex:outputText value="" />
                                    <apex:outputPanel >
                                        <apex:commandButton value="Submit" status="loading" reRender="masterCalendars" action="{!save}" oncomplete="changePeriod(jQuery('.period').val());loadJs();"/>
                                    </apex:outputPanel>
                                </apex:pageBlockSectionItem>
                            </apex:pageBlockSection>
                            </apex:pageBlock>
                        </td>
                        <apex:outputText >
                            <td>&nbsp;</td>
                            <td style="vertical-align:top;">
                                <apex:pageblock title="Calendar Tasks" id="masterTask2">
                                    <table class="list" border="0" cellpadding="0" cellspacing="0">
                                        <apex:outputText rendered="{!MasterCalendars.size <= 0}">
                                            <tr class="dataRow odd first">
                                                <td align="left" style="color:gray;">No records to display.</td>
                                            </tr>
                                        </apex:outputText>
                                        <apex:variable value="{!1}" var="firstRecurrence"/>
                                        <apex:repeat value="{!MasterCalendars}" var="item">
                                            <tr class="dataRow odd first" onblur="if (window.hiOff){hiOff(this);}" onfocus="if (window.hiOn){hiOn(this);}" onmouseout="if (window.hiOff){hiOff(this);}" onmouseover="if (window.hiOn){hiOn(this);}">
                                                <apex:outputText rendered="{!firstRecurrence == 1}">
                                                    <td colspan="2" align="left"><b>{!item.PeriorName}</b></td>
                                                    <td><b>Recurrence</b></td>
                                                </apex:outputText>
                                                <apex:outputText rendered="{!firstRecurrence != 1}">
                                                    <td colspan="3" align="left"><b>{!item.PeriorName}</b></td>
                                                </apex:outputText>
                                                <apex:variable value="{!firstRecurrence + 1}" var="firstRecurrence"/>
                                            </tr>
                                            <!-- One row Start -->
                                            <apex:repeat value="{!item.MasterCalendars}" var="calendars">
                                            <!-- One row End -->
                                            <!--<apex:repeat value="{!item.MasterCalendarsOdd}" var="odd">-->
                                                <tr class="dataRow odd first">
                                                    <apex:variable value="{!1}" var="i"/>
                                                    <!--<apex:repeat value="{!item.MasterCalendars}" var="calendars" first="{!odd - 1}" rows="2">-->
                                                        <apex:variable value="{!i + 1}" var="i"/>
                                                        <!--<td align="right" style="padding-right:35px;">-->
                                                        <td align="left" style="vertical-align:top;width:8%;">
                                                            <!-- FeedBack sart code -->
                                                            <apex:commandLink value="Edit" oncomplete="showPop();return false;" action="{!EditCalendar.edit}" immediate="true" reRender="EditTask" status="loading" style="color: #015BA7;text-decoration: none;font-weight: normal;">
                                                                <apex:param value="{!calendars.Id}" name="taskId"/>
                                                            </apex:commandLink>
                                                            <!-- FeedBack End-->
                                                        </td>
                                                        <td align="left" style="vertical-align:top;width:45%;">
                                                            <a href="/{!calendars.Id}" onmousemove="ActivityHover.getHover('TaskTemplate_{!calendars.Id}').setPosition(event)" onmouseout="ActivityHover.getHover('TaskTemplate_{!calendars.Id}').hideHover()" onmouseover="ActivityHover.getHover('TaskTemplate_{!calendars.Id}').showHover(event, '/ui/core/activity/TaskTemplate?id={!calendars.Id}&amp;isHvr=1&amp;nocache=1332413204340&amp;shBus=true')" style="text-decoration:none">
                                                                <apex:outputField value="{!calendars.Name}"/>
                                                                <!--<apex:outputText value="{!IF(LEN(calendars.Name) > 20,LEFT(calendars.Name, 20) + '...',calendars.Name)}"/>-->
                                                            </a>
                                                            <div class="hoverDetail hoverDetailOffsetted" id="TaskTemplate_{!calendars.Id}" onmousemove="ActivityHover.getHover('TaskTemplate_{!calendars.Id}').setPosition(event)" onmouseout="ActivityHover.getHover('TaskTemplate_{!calendars.Id}').hideHover()" onmouseover="ActivityHover.getHover('TaskTemplate_{!calendars.Id}').showHover(event, '/ui/core/activity/TaskTemplate?id={!calendars.Id}&amp;isHvr=1&amp;nocache=1332412217003&amp;shBus=true')" style="visibility: hidden; ">
                                                                <div class="hoverOuter noStatusBar">
                                                                    <div class="hoverInner">
                                                                        <div class="hoverContent" id="TaskTemplate_{!calendars.Id}_content">
                                                                            <div class="bSubBlock" style="background-color: white;border-bottom:none;">
                                                                                <div class="bPageBlock secondaryPalette" id="TaskTemplate_{!calendars.Id}_page">
                                                                                    <div class="pbHeader">
                                                                                        <table border="0" cellpadding="0" cellspacing="0" style="border-bottom:none;">
                                                                                            <tbody>
                                                                                                <tr>
                                                                                                    <td class="pbTitle" style="border-bottom:none;">
                                                                                                        <h2 class="mainTitle">Calendar Task Detail</h2>
                                                                                                    </td>
                                                                                                </tr>
                                                                                            </tbody>
                                                                                        </table>
                                                                                    </div>
                                                                                    <div class="pbBody">
                                                                                        <div class="pbSubsection">
                                                                                            <table class="detailList" border="0" cellpadding="0" cellspacing="0">
                                                                                                <tbody>
                                                                                                    <tr>
                                                                                                        <td class="labelCol" style="vertical-align:top">Task Title</td>
                                                                                                        <td class="dataCol"><apex:outputField value="{!calendars.Name}"/></td>
                                                                                                    </tr>
                                                                                                    <tr>
                                                                                                        <td class="labelCol" style="vertical-align:top">Task Body</td>
                                                                                                        <td class="dataCol"><apex:outputField value="{!calendars.taskmanage1__TaskBody__c}"/></td>
                                                                                                    </tr>
                                                                                                    <tr>
                                                                                                        <td class="labelCol">Period</td>
                                                                                                        <td class="dataCol"><apex:outputField value="{!calendars.taskmanage1__Period__c}"/></td>
                                                                                                    </tr>
                                                                                                    <tr>
                                                                                                        <td class="labelCol" style="vertical-align:top">Recurrence</td>
                                                                                                        <td class="dataCol"><apex:outputField value="{!calendars.taskmanage1__Recurrence__c}"/></td>
                                                                                                    </tr>
                                                                                                    <!--
                                                                                                    <apex:outputText rendered="{!NOT(ISNULL(calendars.Period__c))}">
                                                                                                        <tr>
                                                                                                            <td class="labelCol">Start Date</td>
                                                                                                            <td class="dataCol"><apex:outputField value="{!calendars.RecurrenceStartDate__c}"/></td>
                                                                                                        </tr>
                                                                                                        <tr>
                                                                                                            <td class="labelCol">End Date</td>
                                                                                                            <td class="dataCol"><apex:outputField value="{!calendars.RecurrenceEndDate__c}"/></td>
                                                                                                        </tr>
                                                                                                    </apex:outputText>
                                                                                                    -->
                                                                                                    <tr>
                                                                                                        <td class="labelCol">Priority</td>
                                                                                                        <td class="dataCol"><apex:outputField value="{!calendars.taskmanage1__Priority__c}"/></td>
                                                                                                    </tr>
                                                                                                </tbody>
                                                                                            </table>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="pbFooter secondaryPalette">
                                                                                        <div class="bg"></div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <!--
                                                            &nbsp;&nbsp;
                                                            <apex:commandLink value="Edit" oncomplete="showPop();return false;" action="{!EditCalendar.edit}" immediate="true" reRender="EditTask" status="loading" style="color: #015BA7;text-decoration: none;font-weight: normal;">
                                                                <apex:param value="{!calendars.Id}" name="taskId"/>
                                                            </apex:commandLink>
                                                            -->
                                                        </td>
                                                        <!-- FeedBack sart code -->
                                                        <!-- FeedBack End-->
                                                        <td style="vertical-align:top">
                                                            <apex:outputText value="{!calendars.taskmanage1__Recurrence__c}"/>
                                                        </td>
                                                    <!--</apex:repeat>-->
                                                    <!--
                                                    <apex:outputText rendered="{!i == 2}">
                                                        <td width="50%">&nbsp;</td>
                                                    </apex:outputText>
                                                    -->
                                                </tr>
                                            <!-- One row Start -->
                                            </apex:repeat>
                                            <!-- One row End-->
                                            <!--</apex:repeat>-->
                                        </apex:repeat>
                                    </table>
                                </apex:pageblock>
                            </td>
                        </apex:outputText>
                    </tr>
                </table>
            <!--</apex:pageBlock>-->
        </apex:outputPanel>
    </apex:form>
    <apex:form styleClass="EditTask Affinity" id="EditTask">
        <div id="inlineEditDialog" class="overlayDialog inlineEditDialog" style="max-width: 500px;min-width:350px; display: block; left: 30%; top: 25%;visibility:hidden">
            <div class="topRight">
                <div class="topLeft">
                    <img id="inlineEditDialogX" onmouseover="this.className='dialogCloseOn'" onmouseout="this.className='dialogClose'" onclick="closePop()" class="dialogClose" src="/s.gif" />
                    <h2 id="inlineEditDialogTitle">Task Edit</h2>
                </div>
            </div>
            <div class="middle">
                <div class="innerContent" id="inlineEditDialogContent">
                    <div class="activeField">
                        <div class="inlineEditCompoundDiv" style="text-align:left">
                            <apex:pageBlock >
                                <apex:pageblockSection columns="1">
                                    <apex:inputField required="true" value="{!editCalendar.CalendarTask.Name}" style="width:150px;"/>
                                    <apex:inputField value="{!editCalendar.CalendarTask.taskmanage1__TaskBody__c}" style="width:210px;height:70px;"/>
                                    <apex:pageBlockSectionItem >
                                        <apex:outputText value="Priority"/>
                                        <apex:selectList size="1" value="{!editCalendar.CalendarTask.taskmanage1__Priority__c}" style="width:150px;">
                                            <apex:selectOption itemLabel="High" itemValue="High"/>
                                            <apex:selectOption itemLabel="Normal" itemValue="Normal"/>
                                            <apex:selectOption itemLabel="Low" itemValue="Low"/>
                                        </apex:selectList>
                                    </apex:pageBlockSectionItem>
                                    <apex:outputField value="{!editCalendar.CalendarTask.taskmanage1__Period__c}" style="width:150px;"/>
                                    <apex:outputField value="{!editCalendar.CalendarTask.taskmanage1__Recurrence__c}" style="width:150px;"/>
                                </apex:pageblockSection>
                            </apex:pageBlock>
                        </div>
                    </div>
                    <div id="inlineEditDialog_buttons" class="buttons">
                        <apex:commandButton value="Save"  onclick="closePop();" action="{!editCalendar.save}" reRender="EditTask,masterTask2" oncomplete="isEditSave({!editCalendar.IsUpdateEditMasterTask});loadJs();" status="loading"/>
                        <apex:commandButton value="Cancel" onclick="closePop();return false;"/>
                    </div>
                </div>
            </div>
            <div class="bottomRight">
               <div class="bottomLeft"></div>
            </div>
        </div>
        <div class="overlayBackground" id="background" style="width:3289px; height:1293px; display:none; position:fixed"></div>
    </apex:form>
</apex:page>